/*! For license information please see checkout6-custom.js.LICENSE.txt */
(()=>{"use strict";var e={176:(e,t,n)=>{function r(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}n.d(t,{l$:()=>o,KV:()=>r}),e=n.hmd(e)},170:(e,t,n)=>{n.d(t,{ph:()=>l,yW:()=>u});var r=n(176),o=n(235);e=n.hmd(e);const i=(0,o.Rf)(),a={nowSeconds:()=>Date.now()/1e3},s=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=i;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},u=a.nowSeconds.bind(a),l=c.nowSeconds.bind(c);let d;(()=>{const{performance:e}=i;if(!e||!e.now)return void(d="none");const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=o<t,s=e.timing&&e.timing.navigationStart,c="number"==typeof s?Math.abs(s+n-r):t;a||c<t?o<=c?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},235:(e,t,n)=>{function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>i,YO:()=>a,n2:()=>o});const o="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function i(){return o}function a(e,t,n){const r=n||o,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=function(){return'\n  <p id="box-pickup-complement" \n  class="input custom-field-complement tfg-custom-addressForm">\n    <label>Mobile number</label>\n    <input \n      id="custom-pickup-complement" \n      class="input-xlarge success" \n      type="tel" \n      name="complement" \n      placeholder="" \n    />\n  </p>'};var t="#/shipping",r="#/payment",o="search",i="residential",a="business",s="commercial",c="pickup",u="ricafields",l="tvfields",d="pickup",h=["bash.com","preprod--thefoschini.myvtex.com"].includes(window.location.host)?"https://store-api.www.bash.com/custom-api/":["thefoschiniqa.myvtex.com","staging.tfglabs.dev"].includes(window.location.host)?"https://store-api.staging.tfglabs.dev/custom-api/":"".concat(window.location.protocol,"//").concat(window.location.host,"/custom-api/"),p='\n<a \n  href="'.concat("http://image.tfgmedia.co.za/image/1/process/500x790?source=http://cdn.tfgmedia.co.za/15/Marketing/HTMLPages/Furniture_Delivery_Fees_tab_image.jpg",'"\n  class="furniture-fees-link" \n  target="_blank"\n>\n  Furniture delivery costs\n</a>\n'),f=n(235);function v(){const e=f.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}var m=n(170);const y=["debug","info","warn","error","log","assert","trace"];function g(e){if(!("console"in f.n2))return e();const t=f.n2.console,n={};y.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function b(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?y.forEach((n=>{t[n]=(...t)=>{e&&g((()=>{f.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):y.forEach((e=>{t[e]=()=>{}})),t}let w;w="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,f.YO)("logger",b):b();var _=n(176);const x="production",k=Object.prototype.toString;function S(e){return function(e,t){return k.call(e)===`[object ${t}]`}(e,"Object")}function E(e){return Boolean(e&&e.then&&"function"==typeof e.then)}var O;!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(O||(O={}));class j{__init(){this._state=O.PENDING}__init2(){this._handlers=[]}constructor(e){j.prototype.__init.call(this),j.prototype.__init2.call(this),j.prototype.__init3.call(this),j.prototype.__init4.call(this),j.prototype.__init5.call(this),j.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new j(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new j(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(O.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(O.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===O.PENDING&&(E(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===O.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===O.RESOLVED&&e[1](this._value),this._state===O.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function C(e){return L(e,new Map)}function L(e,t){if(S(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=L(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(L(e,t))})),r}return e}function P(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,m.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:v()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class N{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new N;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&P(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof N?t:this}return e instanceof N?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):S(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,m.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...(0,f.YO)("globalEventProcessors",(()=>[])),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new j(((o,i)=>{const a=e[r];if(null===t||"function"!=typeof a)o(t);else{const s=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===s&&w.log(`Event processor "${a.id}" dropped event`),E(s)?s.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(o))).then(null,i):this._notifyEventProcessors(e,s,n,r+1).then(o).then(null,i)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){var t;e.fingerprint=e.fingerprint?(t=e.fingerprint,Array.isArray(t)?t:[t]):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}const T=100;class F{constructor(e,t=new N,n=4){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=N.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:v(),r=new Error("Sentry syntheticException");return this._withClient(((o,i)=>{o.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},i)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:v(),o=new Error(e);return this._withClient(((i,a)=>{i.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},a)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:v();return e.type||(this._lastEventId=n),this._withClient(((r,o)=>{r.captureEvent(e,{...t,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=T}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const a={timestamp:(0,m.yW)(),...e},s=o?g((()=>o(a,t))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,t),n.addBreadcrumb(s,i))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=D(this);try{e(this)}finally{D(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),P(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=x}=n&&n.getOptions()||{},{userAgent:i}=f.n2.navigator||{},a=function(e){const t=(0,m.ph)(),n={sid:v(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return C({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&P(n,e),n}({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),s=t.getSession&&t.getSession();return s&&"ok"===s.status&&P(s,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=I().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function I(){return f.n2.__SENTRY__=f.n2.__SENTRY__||{extensions:{},hub:void 0},f.n2}function D(e){const t=I(),n=R(t);return B(t,e),n}function A(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function R(e){return(0,f.YO)("hub",(()=>new F),e)}function B(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("0"===(e=e.replace(/[^0-9+*#]+/g,"").trim())[0]){if(e.length>=6){var n=[e.slice(0,3),e.slice(3,6),e.slice(6)].join(" ");return t?n.trim():n}if(e.length>=3){var r=[e.slice(0,3),e.slice(3)].join(" ");return t?r.trim():r}}else{if(e.length>=5){var o=[e.slice(0,2),e.slice(2,5),e.slice(5)].join(" ");return t?o.trim():o}if(e.length>=2){var i=[e.slice(0,2),e.slice(2)].join(" ");return t?i.trim():i}}return t?e.trim():e},q=function(e){var t,n,r,o,i=e.preferred,a=void 0===i?void 0:i,s=e.type,c=void 0===s?"profile":s,u=e.fields;return"collect"===c?a||(null==u?void 0:u.phone)||(null===(r=document)||void 0===r||null===(r=r.getElementById("client-phone"))||void 0===r?void 0:r.value)||(null===(o=window.vtexjs.checkout.orderForm)||void 0===o||null===(o=o.clientProfileData)||void 0===o?void 0:o.phone)||"":a||(null===(t=window.vtexjs.checkout.orderForm)||void 0===t||null===(t=t.clientProfileData)||void 0===t?void 0:t.phone)||(null===(n=document)||void 0===n||null===(n=n.getElementById("client-phone"))||void 0===n?void 0:n.value)||""},G=function(e){if(!e)return"";var t=e.replace(/\s/g,"");return 9===t.length&&"0"!==t[0]&&(t="0".concat(t)),t},V=function(e){var t;console.error("ERROR",e),t=e,function(){const e=I();return A(e)&&!R(e).isOlderThan(4)||B(e,new F),(0,_.KV)()?function(e){try{const t=I().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return R(e);if(!A(n)||R(n).isOlderThan(4)){const t=R(e).getStackTop();B(n,new F(t.client,N.clone(t.scope)))}return R(n)}catch(t){return R(e)}}(e):R(e)}().captureException(t,{captureContext:undefined})},U=function(e){var t,n=e.cookie,r=e.cache,o=e.json,i=new Headers;return n&&i.append("Cookie",null===(t=document)||void 0===t?void 0:t.cookie),r&&i.append("Cache-Control","no-cache"),o&&i.append("Content-type","application/json"),i},Y=function(e){return function(e){return!!e&&("0"===(e=e.replace(/\s/g,""))[0]?e.match(/[0-9\s]{10}/):e.match(/[0-9\s]{9,}/))}(e)},W=function(e){var t,n,r=["938942995"],o=["24833302"],i=[],a=!1,s=!1,c=!1,u=0;return e.forEach((function(e){var t=e.productCategoryIds.split("/");i.push(t),t.forEach((function(e){e&&(r.includes(e)?a=!0:o.includes(e)&&(s=!0))})),"FURNITURE"===e.modalType&&(c=!0,u+=1)})),n=u===e.length,t=e.length>1&&c&&!n,{hasFurniture:c,hasSimCards:s,hasTVs:a,hasFurnitureMixed:t,hasFurnitureOnly:n,categories:i}},Z=function(){$(".shimmer").removeClass("shimmer")},J=function(e){var t=e.focus,n=void 0!==t&&t;$(".bash--textfield-businessName").removeClass("optional").slideDown((function(){var e;$("#bash--input-businessName").attr("required","required"),!$("#bash--input-businessName").val()&&n&&(null===(e=$("#bash--input-businessName"))||void 0===e||e.focus())}))},H=function(){$(".bash--textfield-businessName").addClass("optional").slideUp(),$("#bash--input-businessName").removeAttr("required")},K=function(){var e,t=Array.from($("form.form-step.box-edit > :invalid, .error"));t.sort((function(e,t){return e.getBoundingClientRect().top-t.getBoundingClientRect().top})),null==t||null===(e=t[0])||void 0===e||e.scrollIntoView({block:"center",behavior:"smooth"})};function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Q=function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return o>=16.344&&o<=32.8301&&i>=-34.8191&&i<=-22.1277},X=function(e){var t=e.name,n=e.options;return'\n  \n  <div class="bash--radio-options">\n  '.concat((void 0===n?[]:n).map((function(e){var n=e.value,r=e.label,o=e.checked,i=void 0!==o&&o,a=e.disabled,s=void 0!==a&&a;return'\n      <label class="bash--radio-option" id="radio-label-'.concat(t,"-").concat(n,'">\n        <input type="radio" \n          ').concat(i?"checked='checked'":""," \n          ").concat(s?"disabled='disabled'":"",' \n          value="').concat(null!=n?n:"",'" \n          name="').concat(t,'" \n          id="radio-').concat(t,"-").concat(n,'"\n        />\n          <span class="radio-icon"></span> \n          ').concat(r?'<span class="radio-label">'.concat(r,"</span>"):"","\n      </label>\n    ")})).join(""),"\n   \n  </div>\n  ")};var ee=function(e,t){return JSON.stringify({street:(null==e?void 0:e.street)||"",neighborhood:(null==e?void 0:e.neighborhood)||"",city:(null==e?void 0:e.city)||"",postalCode:(null==e?void 0:e.postalCode)||""})===JSON.stringify({street:(null==t?void 0:t.street)||"",neighborhood:(null==t?void 0:t.neighborhood)||"",city:(null==t?void 0:t.city)||"",postalCode:(null==t?void 0:t.postalCode)||""})};const te=function(e){var t;if(!e)return"";var n,r=e.businessName,o=e.number,i=e.street,a=e.neighborhood,s=e.postalCode,c=e.city,u=e.receiverName,l=e.addressName,d=e.complement,h=e.receiverPhone,p=["".concat(r?"".concat(r,", "):""," ").concat(o?"".concat(o.trim()," "):"").concat(i),null!=a?a:c,s].join(", ").trim(),f=[u,(n=G(h||d),[n.slice(0,3),n.slice(3,6),n.slice(6)].join(" "))].join(" - "),v=null===(t=window)||void 0===t||null===(t=t.vtexjs)||void 0===t||null===(t=t.checkout)||void 0===t||null===(t=t.orderForm)||void 0===t||null===(t=t.shippingData)||void 0===t?void 0:t.address,m=encodeURIComponent(JSON.stringify(e));return'\n<label id="address-'.concat(l,'" class="bash--address-listing" data-address="').concat(m,'">\n  <div class="address-radio">\n  ').concat(X({name:"selected-address",options:[{checked:ee(e,v),value:l}]}),'\n  </div>\n  <div class="address-text">\n    <div>').concat(p,"</div>    \n    <div>").concat(f,'</div>  \n  </div>\n  <div class="address-edit">\n    <a href="#" data-view="address-edit" data-content="address-').concat(l,'">\n      Edit\n    </a>\n  </div>\n</label>\n')};function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ne(o)?o:String(o)),r)}var o}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===oe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(){ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var g=f.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==oe(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(oe(e)+" is not iterable")}return p.prototype=f,r(g,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function le(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){le(i,r,o,a,s,"next",e)}function s(e){le(i,r,o,a,s,"throw",e)}a(void 0)}))}}var he=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.checkoutDB=indexedDB.open("checkoutDB",1.2),this.checkoutDB.onerror=function(e){throw console.error("CheckoutDB Error",{event:e}),new Error("Could not load checkoutDB")},this.checkoutDB.onupgradeneeded=function(){var e=t.checkoutDB.result.createObjectStore("addresses",{keyPath:"addressName"});e.createIndex("address_street",["street"],{unique:!1}),e.createIndex("address_addressName",["addressName"],{unique:!0}),e.createIndex("address_street_suburb_city_postal",["street","neighborhood","city","postalCode"],{unique:!0})},this.checkoutDB.onsuccess=function(){var e=t.checkoutDB.result.transaction("addresses","readwrite");t.addresses=e.objectStore("addresses"),e.oncomplete=function(){}}}var t,n;return t=e,(n=[{key:"store",value:function(){return this.checkoutDB.result.transaction("addresses","readwrite").objectStore("addresses")}},{key:"loadAddresses",value:function(e){var t=this,n=e.map((function(e){return t.addOrUpdateAddress(e)}));return Promise.all(n).then((function(e){return e}))}},{key:"addOrUpdateAddress",value:function(e){var t=this;return new Promise((function(n,r){var o=t.store().put(e);o.onsuccess=function(){n({success:!0,addressId:o.result})},o.onerror=function(e){var t;r(new Error({sucess:!1,error:null==e||null===(t=e.target)||void 0===t?void 0:t.error}))}}))}},{key:"getAddresses",value:function(){var e=this;return new Promise((function(t){var n=e.store().getAll();n.onsuccess=function(){return t(n.result)},n.onerror=function(){console.error("Something wrong with getAddresses ? ..."),t([])}}))}},{key:"getAddress",value:function(e){var t=this;return new Promise((function(n){var r=t.store().get(e);r.onsuccess=function(){return n(r.result)},r.onerror=function(){console.error("Something wrong with getAddress ? ..."),n([])}}))}},{key:"deleteAddress",value:function(e){var t=this.addresses.delete(e);t.onsuccess=function(){return t.result}}},{key:"clearData",value:function(){var e=this;return new Promise((function(t){var n=e.store().clear();n.onsuccess=function(){return t(n.result)},n.onerror=function(){console.error("Something wrong with clearData ? ..."),t([])}}))}}])&&re(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),pe=function(){var e=de(ue().mark((function e(){var t,n,r,o,i,a,s,c;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.getAddresses();case 2:if(!((n=e.sent).length>0)){e.next=5;break}return e.abrupt("return",{data:n});case 5:return r=null===(t=window)||void 0===t||null===(t=t.vtexjs)||void 0===t||null===(t=t.checkout)||void 0===t||null===(t=t.orderForm)||void 0===t?void 0:t.clientProfileData,o=r.email,i=["id","addressType","addressQuery","addressName","reference","number","geolocation","receiverName","receiverPhone","complement","street","businessName","companyBuilding","neighborhood","city","postalCode","state","country","tvID","geoCoordinate"].join(","),a=U({cookie:!0,cache:!0,json:!1}),s={headers:a,credentials:"include"},c=Date.now(),e.abrupt("return",fetch("".concat(h,"masterdata/addresses?t=").concat(c,"&_fields=").concat(i,"&_where=").concat(encodeURIComponent("userIdQuery=".concat(o))),s).then((function(e){return e.json()})).then(function(){var e=de(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.data&&he.loadAddresses(t.data),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return V("GET_ADDRESSES_ERROR: ".concat(null==e?void 0:e.message))})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=de(ue().mark((function e(t,n){var r,o,i,a,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},o=U({cookie:!0,cache:!0,json:!1}),i={headers:o,credentials:"include"},e.next=5,fetch("".concat(h,"masterdata/addresses/").concat(n,"&_where=addressName=").concat(t,"&timestamp=").concat(Date.now()),i).then((function(e){return e.json()})).catch((function(e){return V("GET_ADDRESS_ERROR: ".concat(null==e?void 0:e.message))}));case 5:return(a=e.sent)&&!a.error&&a.data&&a.data.length>0&&(c=a.data,u=1,s=function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(c,u)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=s[0]),e.abrupt("return",r);case 8:case"end":return e.stop()}var c,u}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=de(ue().mark((function e(t){var n,r,o,i,a,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.vtexjs.checkout.orderForm.clientProfileData.email,t){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("No address provided.")));case 3:if(!t.addressName){e.next=9;break}return e.next=6,fe(t.addressName,"?_fields=id");case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0={};case 10:return o=e.t0,n=null!=o&&o.id?"".concat(h,"masterdata/address/").concat(o.id):"".concat(h,"masterdata/addresses"),i=ae({userId:r},t),o.id||(i.addressName=t.addressId||"address-".concat(Date.now())),a=U({cookie:!0,cache:!0,json:!0}),s={method:"PATCH",headers:a,body:JSON.stringify(i),credentials:"include"},e.next=18,fetch(n,s).then((function(e){return 204!==e.status?e.json():e})).then((function(e){return e})).catch((function(e){return V("SAVE_ADDRESS_ERROR: ".concat(null==e?void 0:e.message))}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(e){var t=$("#address-".concat(e.addressName));t.length?(t.after(te(e)),t.remove(),t=null):$("#bash-address-list").append(te(e)),$('input[type="radio"][name="selected-address"]:checked').attr("checked",!1),$('input[type="radio"][name="selected-address"][value="'.concat(e.addressName,'"]')).attr("checked",!0)},ye=function(){var e=de(ue().mark((function e(t){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.addressName||(n=t.street.replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s/g,"-").toLowerCase(),t.addressName="".concat(Date.now(),"-").concat(n).substring(0,50)),t.addressId||(t.addressId=t.addressName),he.addOrUpdateAddress(t).then((function(){return me(t)})),ve(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=de(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he.getAddress(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=de(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he.clearData());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=de(ue().mark((function e(t,n){var r,o,i,a,s,c=arguments;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],o=window.vtexjs.checkout.orderForm.orderFormId,i="/api/checkout/pub/orderForm/".concat(o,"/customData/").concat(t),a=JSON.stringify(ae(ae({},n),r&&{sameAddress:new Boolean(n.sameAddress)})),s={method:"PUT",headers:{"Content-Type":"application/json"},body:a},e.abrupt("return",fetch(i,s));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(e){var t,n=null===(t=window)||void 0===t||null===(t=t.vtexjs)||void 0===t||null===(t=t.checkout)||void 0===t||null===(t=t.orderForm)||void 0===t?void 0:t.customData,r={};return n&&n.customApps&&n.customApps.length>0&&n.customApps.forEach((function(t){t.id===e&&(r=t.fields)})),r},xe=function(e){var t,n,r=e.text,o=e.fields;if(!o.itemIndex)return"";var i=null===(t=window.vtexjs.checkout)||void 0===t||null===(t=t.orderForm.items)||void 0===t?void 0:t[o.itemIndex];if(!i)return"";var a=null==i?void 0:i.imageUrl;return' \n<div id="bash-delivery-error" class="notification error" alt="'.concat(null!==(n=null==o?void 0:o.skuName)&&void 0!==n?n:"",'" >\n   \x3c!---<div class="icon"></div>---\x3e\n   ').concat(a?'<img src="'.concat(a,'" style=" float: right; " />'):"",'\n   <div class="notification-content">\n      <h3>Address error ').concat(null!=o&&o.skuName?"- ".concat(null==o?void 0:o.skuName):"","</h3>\n      <p>").concat(r,'</p>\n      <p>Check the postal code of your address, or \n      <a href="#" \n        class="remove-cart-item"\n        style="color: white; text-decoration: underline"\n        data-index="').concat(o.itemIndex,'">remove this item from your cart</a>.\n      </p>\n   </div>  \n</div>  \n')},ke=["receiverName","street","neighborhood","state","city","country","postalCode","receiverPhone"],Se=["idOrPassport","sameAddress","fullName","streetAddress","suburb","city","postalCode","province"],Ee=["tvID"],Oe=["residential","inStore","commercial","giftRegistry","pickup","search"];function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Ce(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(){$e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var g=f.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==je(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(je(e)+" is not iterable")}return p.prototype=f,r(g,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Le(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Pe(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===je(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(){var e;null===(e=document.querySelector(".bash--delivery-container"))||void 0===e||e.classList.add("shimmer")},De=function(){var e,t;null===(e=document.querySelector(".delivery-group-content"))||void 0===e||null===(e=e.classList)||void 0===e||e.add("shimmer"),null===(t=document.querySelector(".vtex-omnishipping-1-x-ask"))||void 0===t||null===(t=t.classList)||void 0===t||t.add("shimmer")},Ae=function(e){switch(e){case"Select":return"";case"Western Cape":return"WC";case"Easter Cape":return"EC";case"Gauteng":return"GP";case"KwaZulu-Natal":case"KwaZulu Natal":return"KZN";case"Northern Cape":return"NC";case"Limpopo":return"LP";case"Mpumalanga":return"MP";case"North West":return"NW";case"Freestate":case"Free State":return"FS";default:return e}},Re=function(e){var t,n,r,o,i=e.preferred,a=void 0===i?void 0:i,s=e.type,c=void 0===s?"delivery":s,u=null===(t=window)||void 0===t||null===(t=t.vtexjs)||void 0===t||null===(t=t.checkout)||void 0===t||null===(t=t.orderForm)||void 0===t||null===(t=t.clientProfileData)||void 0===t?void 0:t.firstName,l=null===(n=window)||void 0===n||null===(n=n.vtexjs)||void 0===n||null===(n=n.checkout)||void 0===n||null===(n=n.orderForm)||void 0===n||null===(n=n.clientProfileData)||void 0===n?void 0:n.lastName,d=null===(r=window)||void 0===r||null===(r=r.vtexjs)||void 0===r||null===(r=r.checkout)||void 0===r||null===(r=r.orderForm)||void 0===r||null===(r=r.shippingData)||void 0===r||null===(r=r.address)||void 0===r?void 0:r.receiverName,h="".concat(null!=u?u:""," ").concat(null!=l?l:"").trim();return"collect"===c?a||d||h||"":a||(null===(o=document.getElementById("client-first-name"))||void 0===o?void 0:o.value)||h||""},Be=function(e){var t,n,r,o,i,a=e.number,s=e.street,u=e.addressType,l=e.businessName,d=e.companyBuilding,h=e.neighborhood,p=e.postalCode,f=e.state,v=e.city,m=e.receiverName,y=e.receiverPhone,g=e.complement,b=e.id,w=e.addressId,_=e.addressName,x=e.geoCoordinate;null===(t=document.getElementById("bash--address-form"))||void 0===t||t.reset(),H();try{var k=(o=JSON.parse(JSON.stringify(x)),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(o,i)||Pe(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());r=k[0],n=k[1],Q([r,n])||(Q[r]?n=r=n:(r=0,n=0))}catch(t){console.warn("Could not parse geo coords",{address:e,geoCoordinate:x})}m&&(document.getElementById("bash--input-receiverName").value=null!=m?m:""),g&&(document.getElementById("bash--input-complement").value=null!=g?g:""),(b||w)&&(document.getElementById("bash--input-addressId").value=b||w),_&&(document.getElementById("bash--input-addressName").value=_);var S="".concat(a?"".concat(a," "):"").concat(s).replace(", ".concat(d),"");"commercial"===u&&($("#radio-addressType-business").click(),J({focus:!1})),l&&(document.getElementById("bash--input-businessName").value=l),document.getElementById("bash--input-number").value="",document.getElementById("bash--input-street").value=S||"",document.getElementById("bash--input-companyBuilding").value=d||"",document.getElementById("bash--input-neighborhood").value=h||"",document.getElementById("bash--input-city").value=v||"",document.getElementById("bash--input-postalCode").value=p||"",document.getElementById("bash--input-state").value=Ae(f),document.getElementById("bash--input-lat").value=n||"",document.getElementById("bash--input-lng").value=r||"";var E=_e(c);m&&(document.getElementById("bash--input-receiverName").value=null!=m?m:""),g&&(document.getElementById("bash--input-complement").value=null!=g?g:""),document.getElementById("bash--input-receiverPhone").value=q({preferred:y,type:"delivery",fields:E}),$(":invalid").trigger("change")},Me=function(e){setTimeout((function(){var t,n=document.querySelectorAll(".pac-container"),r=document.querySelectorAll(".pac-container[style*='display: none']");(null==n?void 0:n.length)===(null==r?void 0:r.length)&&(null===(t=e.target)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.length)>3?$("#address-search-field-container:not(.no-results)").addClass("no-results"):$("#address-search-field-container.no-results").removeClass("no-results")}),250)},qe=function(){if(window.google){var e=document.getElementById("bash--input-address-search");if(e){var t=new window.google.maps.places.Autocomplete(e,{componentRestrictions:{country:"ZA"}});window.google.maps.event.addListener(t,"place_changed",(function(){var n=t.getPlace();!function(e){var t,n=e.street,r=e.neighborhood,o=e.postalCode,i=e.state,a=e.city,s=e.lat,c=e.lng;null===(t=document.getElementById("bash--address-form"))||void 0===t||t.reset(),document.getElementById("bash--input-addressId").value="",document.getElementById("bash--input-addressName").value="",document.getElementById("bash--input-number").value="  ",document.getElementById("bash--input-street").value=null!=n?n:"",document.getElementById("bash--input-neighborhood").value=null!=r?r:"",document.getElementById("bash--input-city").value=null!=a?a:"",document.getElementById("bash--input-postalCode").value=null!=o?o:"",document.getElementById("bash--input-state").value=Ae(i),document.getElementById("bash--input-lat").value=s||"",document.getElementById("bash--input-lng").value=c||"",$(":invalid").trigger("change")}(function(e,t){var n,r,o,i,a,s;if(!e||e.length<1)return{};var c=null===(n=e.find((function(e){return e.types.includes("street_number")})))||void 0===n?void 0:n.long_name,u=null===(r=e.find((function(e){return e.types.includes("route")})))||void 0===r?void 0:r.long_name,l=null===(o=e.find((function(e){return e.types.includes("sublocality")})))||void 0===o?void 0:o.long_name,d=null===(i=e.find((function(e){return e.types.includes("locality")})))||void 0===i?void 0:i.long_name,h=null===(a=e.find((function(e){return e.types.includes("postal_code")})))||void 0===a?void 0:a.long_name,p=null===(s=e.find((function(e){return e.types.includes("administrative_area_level_1")})))||void 0===s?void 0:s.long_name,f={lat:"",lng:""};return t&&(f.lat=t.location.lat(),f.lng=t.location.lng()),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({street:"".concat(null!=c?c:""," ").concat(null!=u?u:"").trim(),neighborhood:l,city:d,postalCode:h,state:p},f)}(n.address_components,n.geometry)),window.postMessage({action:"setDeliveryView",view:"address-form"}),e.value=""})),null==e||e.addEventListener("keyup",Me)}}},Ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){for(var o=0;o<t.length;o++){var i="bash--input-".concat(n).concat(t[o]);!document.getElementById(i)||!e[t[o]]&&!r||document.getElementById(i).value&&!r||(document.getElementById(i).value=e[t[o]])}$(":invalid").trigger("change")}},Ve=function(){var e,t=window.vtexjs.checkout.orderForm.shippingData.address;if((null===(e=document.getElementById("bash--input-rica_streetAddress"))||void 0===e||!e.value)&&t){t.fullName=Re({type:"delivery"}),t.streetAddress=t.street,t.suburb=t.neighborhood,t.province=t.state,Ge(t,Se,"rica_");var n=_e(u);n.streetAddress&&Ge(n,Se,"rica_",!0)}},Ue=function(){var e,t=(e=$e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_e(l),Ge(t,Ee,"tv");case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Le(i,r,o,a,s,"next",e)}function s(e){Le(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Ye=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=window.vtexjs.checkout.orderForm.items,r=W(n),o=r.hasTVs,i=r.hasSimCards,a=ke,s=[];o&&t&&(a=[].concat(Ce(a),Ce(Ee))),i&&t&&(a=[].concat(Ce(a),Ce(Se)));for(var c=0;c<a.length;c++)e[a[c]]||s.push(a[c]);return!a.includes("receiverPhone")||s.includes("receiverPhone")||Y(e.receiverPhone)||(s.push("receiverPhone"),$("#bash--input-receiverPhone").addClass("invalid"),$("#bash--label-receiverPhone").focus()),{isValid:!s.length,invalidFields:s}},We=function(){var e=window.vtexjs.checkout.orderForm.items,t=W(e),n=t.hasTVs,r=t.hasSimCards,o=t.hasFurnitureMixed,i="#shipping-data";n?$("".concat(i,":not(.has-tv)")).addClass("has-tv"):$("".concat(i,".has-tv")).removeClass("has-tv"),r?$("".concat(i,":not(.has-rica)")).addClass("has-rica"):$("".concat(i,".has-rica")).removeClass("has-rica"),o?$("".concat(i,":not(.has-furniture-mixed)")).addClass("has-furniture-mixed"):$("".concat(i,".has-furniture-mixed")).removeClass("has-furniture-mixed")},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!($("#bash-delivery-error-container").length<1)){var t=e.length>0?e.map((function(e){return xe(e)})):"";$("#bash-delivery-error-container").html(t),e.length>0&&$("html, body").animate({scrollTop:$("#bash-delivery-error-container").offset().top},400)}},Je=function(){$(".alert-container").addClass("show"),$(".alert-container").slideDown();var e=$('[data-view="address-form"]').length>0?"Address added":"Address updated";$("#bash-alert-container").html("<div class='alert-container'>\n      <p>".concat(e,"</p>\n    </div>\n  ")),setTimeout((function(){$(".alert-container").slideUp()}),5e3)};const He=function(e){var t=e.eventCategory,n=void 0===t?"Checkout_UserErrors":t,r=e.action,o=void 0===r?"":r,i=e.label,a=void 0===i?"":i,s=e.description,c=void 0===s?"":s,u=e.value,l=void 0===u?void 0:u,d=function(){window.dataLayer.push({event:"gaEvent",eventCategory:n,eventLabel:a,eventAction:o,eventValue:l,eventDescription:c})};if(!window.dataLayer)return $(window).off("gtm.load"),void $(window).on("gtm.load",d);d()};function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et,tt,nt,rt,ot,it;const at=(et={inCollect:!1,pickupSelected:!1,validForm:!1,runningObserver:!1,collectReset:!1},tt=function(){$("#change-pickup-button").length&&($('<button class="vtex-omnishipping-1-x-pickupPointSeeMore button-see-pickup-point btn btn-link" id="tfg-pickup-see-more-button" type="button">Collect Point Details</button>').appendTo(".vtex-omnishipping-1-x-PickupPoint"),$('<button class="vtex-change-pickup button-change-pickup-point" id="tfg-pickup-button" type="button">Change</button>').appendTo(".vtex-omnishipping-1-x-PickupPoint"),$("#change-pickup-button").remove(),$("#details-pickup-button").remove()),$(".vtex-omnishipping-1-x-ask").length&&($(".vtex-omnishipping-1-x-ask").empty(),$('<div class="pickup-map-container" id="tfg-pickup-container">\n          <div class="pickup-map-icon">\n            <svg class="icon-map" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">\n              <rect width="48" height="48" rx="24" fill="#2424E4"/>\n              <path d="M24.2147 11C21.5065 11.0031 18.9102 12.0802 16.9952 13.9952C15.0802 15.9102 14.0031 18.5065 14 21.2147C14 29.9552 23.2861 36.5599 23.6807 36.8385C23.8389 36.9438 24.0247 37 24.2147 37C24.4047 37 24.5905 36.9438 24.7486 36.8385C25.1433 36.5599 34.4294 29.9552 34.4294 21.2147C34.4263 18.5065 33.3491 15.9102 31.4342 13.9952C29.5192 12.0802 26.9228 11.0031 24.2147 11ZM24.2147 17.5003C24.9493 17.5003 25.6675 17.7181 26.2783 18.1262C26.8891 18.5344 27.3652 19.1145 27.6464 19.7932C27.9275 20.472 28.0011 21.2188 27.8577 21.9393C27.7144 22.6599 27.3607 23.3217 26.8412 23.8412C26.3217 24.3607 25.6599 24.7144 24.9393 24.8577C24.2188 25.0011 23.472 24.9275 22.7932 24.6464C22.1145 24.3652 21.5344 23.8891 21.1262 23.2783C20.7181 22.6675 20.5003 21.9493 20.5003 21.2147C20.5003 20.2296 20.8916 19.2848 21.5882 18.5882C22.2848 17.8916 23.2296 17.5003 24.2147 17.5003Z" fill="#FCFCFC"/>\n            </svg>\n            Find nearby collect points\n            <div class="pickup-map-text">\n              Search for addresses that you frequently use and well locate stores nearby.\n            </div>\n          </div>\n          <button class="pickup-map-geolocation" id="find-pickups-button-new" type="button">\n            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">\n              <path d="M1.12954 2.34666L5.24985 14.2506C5.42563 14.7639 6.15688 14.7498 6.3186 14.2295L7.97798 8.84354C8.00302 8.75549 8.05054 8.67548 8.11588 8.61138C8.18122 8.54727 8.26213 8.50127 8.35063 8.47791L13.7295 6.81854C14.2499 6.65682 14.2639 5.92557 13.7506 5.74979L1.84672 1.62948C1.74671 1.59433 1.6388 1.58815 1.53542 1.61167C1.43205 1.63519 1.33743 1.68745 1.26247 1.76241C1.18751 1.83737 1.13525 1.93199 1.11173 2.03536C1.08822 2.13873 1.09439 2.24665 1.12954 2.34666V2.34666Z" stroke="#2424E4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n            Use my current location\n          </button>\n          <button class="pickup-map-manual" id="find-pickups-manually-search">\n            Manually search for an address\n          </button>\n        </div>').appendTo(".vtex-omnishipping-1-x-ask")),$("#pkpmodal-close").unbind().click((function(){$("#tfg-pickup-map").remove()}));var e=function(e){$('<div class="tfg-pickup-map" id="tfg-pickup-map"><div class="tfg-pickup-map-content"></div></div>').appendTo($("body")),$("body").css("position","fixed"),$("body").css("width","100%");var t=document.createElement("iframe");t.src="https://pickup-map.bashconnect.com/",t.width="100%",t.height="100%",t.id="map",t.allow="geolocation",$(t).appendTo(".tfg-pickup-map-content"),window.Penpal.connectToChild({iframe:t,methods:{sendAttachment:function(e){De(),window.vtexjs.checkout.sendAttachment("shippingData",e),$("#tfg-pickup-map").remove(),$("body").css("overflow","auto"),$("body").css("width","auto"),$("body").css("position","relative")},getCheckoutJS:function(){return window.vtexjs.checkout.orderForm},getSpecialFields:function(){return W(window.vtexjs.checkout.orderForm.items)},remove:function(){$("#tfg-pickup-map").remove(),$("body").css("overflow","auto"),$("body").css("width","auto"),$("body").css("position","relative")},getState:function(){return e}}}),$("#tfg-pickup-map").click((function(e){e.stopPropagation(),$("#tfg-pickup-map").remove(),$("body").css("overflow","auto"),$("body").css("width","auto"),$("body").css("position","relative")}))};$("#tfg-pickup-button").unbind().click((function(){return e("none")})),$("#tfg-pickup-see-more-button").unbind().click((function(){return e(c)})),$("#find-pickups-button-new").unbind().click((function(){return e("geolocate")})),$("#find-pickups-manually-search").unbind().click((function(){return e("manual")}))},nt=function(){$("span.help.error").remove(),et.validForm=!0,["pickup-receiver","custom-pickup-complement"].forEach((function(e){var t,n=!0;switch(e){case"pickup-receiver":n=!($("#".concat(e)).length>0&&!$("#".concat(e)).attr("disabled")&&!$("#".concat(e)).val()),t=".shp-pickup-receiver";break;case"custom-pickup-complement":n=Y($("#".concat(e)).val()),t="#box-pickup-complement"}n?$(t).removeClass("error"):($(t).addClass("error"),$(t).append('<span class="help error">This field is required.</span>'),$("".concat(t," span.error")).show(),K(),et.validForm=!1,window.postMessage({type:"COLLECTION_VALIDATION_ERROR",message:"".concat(e," is invalid")},"*"))}))},rt=function(){if(nt(),et.validForm){var e=$("#custom-pickup-complement").val().replace(/\s/g,"");9===e.length&&"0"!==e[0]&&(e="0".concat(e)),localStorage.setItem("saving-shipping-collect",!0),$("#btn-go-to-payment").trigger("click");try{window.vtexjs.checkout.getOrderForm().then((function(t){var n=t.shippingData.address;return we(d,{phone:e}).then((function(){var t,r;t=n.receiverName,r=e,t&&r&&($(".vtex-omnishipping-1-x-SummaryItemAddress .collect-receiver").length?$(".collect-receiver").html("".concat(t," - ").concat(r," ")):$(".vtex-omnishipping-1-x-SummaryItemAddress").append('<p class="collect-receiver">\n      '.concat(t," - ").concat(r,"\n      </p>")))})),window.vtexjs.checkout.calculateShipping(n)})).done((function(){localStorage.removeItem("saving-shipping-collect")}))}catch(e){console.error("VTEX_ORDERFORM_ERROR: Could not load at CollectController",e),He({eventCategory:"Checkout_SystemError",action:"OrderFormFailed",label:"Could not getOrderForm() from vtex",description:"Could not load orderForm for Collect."})}}},ot=function(){var n,i,a=$("#postalCode-finished-loading").length>0;$("#shipping-option-pickup-in-point").one("click",(function(){et.collectReset=!0})),function(){var e,t;if(!($("#pickup-receiver").length<1)){var n=Re({preferred:null===(e=window)||void 0===e||null===(e=e.vtexjs)||void 0===e||null===(e=e.checkout)||void 0===e||null===(e=e.orderForm)||void 0===e||null===(e=e.shippingData)||void 0===e||null===(e=e.address)||void 0===e?void 0:e.receiverName,type:"collect"}).trim();n.length>0&&""===(null===(t=$("#pickup-receiver"))||void 0===t||null===(t=t.val())||void 0===t?void 0:t.trim())&&$("#pickup-receiver").val(n)}}(),window.location.hash===t&&a?(et.inCollect=$("#shipping-option-pickup-in-point").hasClass("shp-method-option-active"),et.pickupSelected=0===$("div.ask-for-geolocation").length,et.inCollect&&(($("#tfg-pickup-button").length||$("#tfg-pickup-see-more-button").length)&&($("#find-pickups-manually-search").length||$("#find-pickups-button-new").length)||tt(),Z(),et.pickupSelected&&!et.collectReset?($("button.shp-pickup-receiver__btn").trigger("click"),$("div.shp-pickup-receiver").addClass("show"),$("p#box-pickup-complement").addClass("show"),n=_e(c),i=q({type:"collect",fields:n}),0===$("#custom-pickup-complement").length&&$(".btn-go-to-payment-wrapper").before(e),i&&$("#custom-pickup-complement").val(i).css("border",0),function(){if($("#custom-go-to-payment").length<=0){var e=$("#btn-go-to-payment"),t=e.clone(!1);$(e).hide(),$(t).data("bind",""),$(t).removeAttr("id").attr("id","custom-go-to-payment"),$(t).removeAttr("data-bind"),$(t).css("display","block"),$("p.btn-go-to-payment-wrapper").append(t),$(t).on("click",rt)}}()):($("div.shp-pickup-receiver").removeClass("show"),$("p#box-pickup-complement").removeClass("show")),et.collectReset&&(function(){$(".delivery-group-content").empty(),$(".btn-go-to-payment-wrapper").empty(),$('<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25" stroke="#FCFCFC" fill="#FCFCFC"/><path d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z" stroke="#000" fill="#000"><animateTransform attributeName="transform" type="rotate" dur="0.75s" values="0 12 12;360 12 12" repeatCount="indefinite"/></path></svg><div>').css({display:"flex","justify-content":"center","align-items":"center","min-height":"100px"}).appendTo(".delivery-group-content");var e=window.vtexjs.checkout.orderForm.shippingData,t=Qe(Qe({},e),{},{address:null,availableAddresses:e.availableAddresses,selectedAddresses:e.selectedAddresses.filter((function(e){return"search"!==e.addressType})),logisticsInfo:e.logisticsInfo});window.vtexjs.checkout.sendAttachment("shippingData",t),De(),tt()}(),et.collectReset=!1),$("p.vtex-omnishipping-1-x-shippingSectionTitle").text("Collect options"),$("#change-pickup-button").text("Available pickup points"),$("h2.vtex-omnishipping-1-x-geolocationTitle.ask-for-geolocation-title").text("Find nearby Click & Collect points"),$("h3.vtex-omnishipping-1-x-subtitle.ask-for-geolocation-subtitle").text("Search for addresses that you frequently use and we'll locate stores nearby."),et.pickupSelected&&$("label.shp-pickup-receiver__label").text("Recipient's name")),localStorage.getItem("shipping-incomplete-values")&&($("#custom-go-to-payment").trigger("click"),localStorage.removeItem("shipping-incomplete-values"))):($("#box-pickup-complement").remove(),window.location.hash===r&&setTimeout((function(){var e,n=null===(e=window.vtexjs.checkout.orderForm)||void 0===e||null===(e=e.shippingData)||void 0===e?void 0:e.address;if(!localStorage.getItem("saving-shipping-collect")){var r=_e(d).phone;!n||n.addressType!==o||n.receiverName&&r||(window.location.hash=t,localStorage.setItem("shipping-incomplete-values",!0),He({action:"stepRedirect",label:"redirectPaymentToShipping",description:"User redirect to shipping because Collection is missing receiverName or phone number."}))}}),1e3)),it()},it=function(){if(!et.runningObserver){var e=document.querySelector(".shipping-container .box-step"),t=new MutationObserver((function(){et.runningObserver=!0,ot()}));e&&t.observe(e,{attributes:!1,childList:!0,characterData:!1})}},$(document).ready((function(){ot()})),$(window).on("hashchange orderFormUpdated.vtex",(function(){ot()})),{state:et,init:function(){}}),st=function(e){var t=e.label,n=e.name,r=e.value,o=void 0===r?"":r,i=e.required,a=void 0===i||i,s=e.type,c=void 0===s?"text":s,u=e.placeholder,l=e.autoComplete,d=void 0===l?"on":l,h=e.maxLength,p=e.minlength,f=e.disabled,v=void 0!==f&&f,m=e.options,y=e.checked,g=e.error,b=void 0===g?"This field is required.":g,w=e.containerClasses,_=void 0===w?"":w,x=n.replace(/\s/g,"-"),k='<label id="bash--label-'.concat(x,'" for="bash--input-').concat(x,'">').concat(t,"</label>");return'\n<p class="input bash--'.concat(c,"field-").concat(n.replace(/\s/g,"-")," bash--").concat(c," ").concat(a?"required":"optional"," ").concat(_,'">\n  ').concat(t&&"checkbox"!==c?k:"","\n  ").concat(function(){switch(c){case"radio":return X({name:n,options:m});case"dropdown":return function(e){var t=e.name,n=e.disabled,r=void 0!==n&&n,o=e.options,i=e.required,a=o.find((function(e){return!0===e.selected}));return'\n  <select \n    name="'.concat(t,'" \n    ').concat(i?" required ":""," \n    ").concat(r?" disabled ":"",' \n    id="bash--input-').concat(t,'" \n    class="input-large" \n  >\n  ').concat(o.map((function(e,t){var n=e.value,r=e.label,o=e.selected;return"\n    <option \n    ".concat(0===t?" disabled ":"","\n    ").concat(0!==t||a?"":" selected ","\n    ").concat(o?" selected ":"",'\n      value="').concat(n,'" \n    >').concat(r,"</option>\n    ")})).join(""),"\n  </select>\n  ")}({name:n,disabled:v,options:m,required:a});case"note":return function(e){var t=e.value,n=e.name;return'\n  <div class="bash--note-field '.concat(n,'">\n  ').concat(t,"\n  </div>\n  ")}({name:n,value:o});case"checkbox":return function(e){var t=e.name,n=e.label,r=e.checked,o=e.value;return'\n    <label class="tfg-checkbox-label">\n       <input \n        type=\'checkbox\' \n        name="'.concat(t,'" \n        id="bash--input-').concat(t,'"\n        ').concat(r?"checked='checked'":"","\n        value=").concat(null!=o?o:"","\n      />\n      <span>").concat(n,"</span>\n    </label>\n  ")}({name:n,label:t,checked:y});default:return function(e){var t=e.name,n=e.value,r=void 0===n?"":n,o=e.required,i=void 0===o||o,a=e.type,s=void 0===a?"text":a,c=e.placeholder,u=e.autoComplete,l=void 0===u?"on":u,d=e.minLength,h=void 0===d?0:d,p=e.maxLength,f=void 0===p?0:p,v=t.replace(/\s/g,"-");return"\n  <input \n    ".concat(i?" required ":"",'\n    autocomplete="').concat(l,'" \n    id="bash--input-').concat(v,'" \n    type="').concat(s,'" \n    name="').concat(t,'" \n    ').concat(h>0?'minlength="'.concat(h,'"'):"","\n    ").concat(f>0?'maxlength="'.concat(f,'"'):"",'\n    placeholder="').concat(null!=c?c:"",'" \n    class="input-xlarge" \n    value="').concat(r,'" \n  />\n')}({name:n,value:o,required:a,type:c,placeholder:u,autoComplete:d,maxLength:h,minLength:p})}}(),'\n  <span class="bash--field-error">').concat(b,"</span>\n</p>  \n")},ct=function(e){var t,n=e.hasFurn,r=e.hasFurnOnly,o=e.hasFurnMixed;return'\n  <div class="bash--delivery-container '.concat(n&&"has-furniture",'"\n   id="bash--delivery-container" data-view="select-address">\n    <div id="bash--shipping-messages">\n      ').concat('<div id="bash-alert-container"></div>',"\n      ").concat('\n  <div id="tfg-custom-tvrica-msg" class="tfg-custom-msg">\n    <p class="tfg-custom-icon"></p>\n    <p class="tfg-custom-text">\n      You can\'t collect this order in store because your cart contains items \n      which require either RICA or TV License validation.\n    </p>\n  </div>\n',"\n      ").concat('\n  <div id="tfg-custom-mixed-msg" class="tfg-custom-msg">\n    <p class="tfg-custom-icon"></p>\n    <p class="tfg-custom-text">\n      We\'ll ship your furniture and other items in your cart to the selected address. \n      Only the furniture delivery fee will apply for your whole order.\n      </p>\n  </div>\n',"\n      ").concat(' \n \n<div id="bash-delivery-error-container"   >\n</div>','\n    </div>\n   <form id="bash--delivery-form" name="bash--delivery-form" method="post">\n\n    <section class="bash--delivery-view" data-section="select-address">\n    <div class="bash--heading">\n        <h2>Delivery address</h2>\n        <a href="#" data-view="address-search">Add address</a>\n      </div>\n      ').concat((pe().then((function(e){var t=e.data,n=t.map((function(e){return te(e)}));document.getElementById("bash-address-list")&&(document.getElementById("bash-address-list").innerHTML=n.join("")),$("#back-button-select-address").hasClass("inactive")&&$("#back-button-select-address").show(),Z(),t.length<1&&(window.postMessage({action:"setDeliveryView",view:"address-search"}),$("#bash--input-address-search").focus(),$("#back-button-select-address").hide(),$("#back-button-select-address").addClass("inactive"))})).catch((function(e){throw console.error("ERROR getAddresses",e),new Error("Error getAddresses",e.message)})),'\n <div class="bash--addresses shimmer" id="bash-address-list">\n    Loading addresses...\n  </div>\n  '),'\n    </section>\n\n    <section id="bash-delivery-options" class="shipping-method bash--delivery-view" data-section="select-address">\n      <hr>\n      <div class="bash--heading sub-heading">\n        <h3>Delivery method</h3>\n        ').concat(r||o?p:"","\n      </div>\n      ").concat(function(e){var t=e.hasFurnOnly,n="Delivery within 3 - 5 working days";return e.hasFurnitureMixed&&(n="Delivery within 3 - 10 working days"),t&&(n="Delivery within 5 - 10 working days"),$(".shp-summary-package-time > span").html(n),'\n  <label class="bash--delivery-option-display" >\n  '.concat(X({name:"delivery-option",options:[{checked:!0,value:!0}]}),'\n   \n   <div id="bash--delivery-option-text" class="bash--delivery-option-text">\n      <span class="normal-delivery">\n        ').concat(n,'\n      </span>\n   </div>\n\n  <div id="bash--delivery-fee" class="bash--delivery-fee">\n    R50\n  </div>\n</label>\n\n').concat('\n  <div class="furniture-delivery-notes">\n\n    <div id="furniture-delivery-mixed" class="furniture-note">\n      <h4>Only furniture delivery fees apply</h4>\n      <p>\n        Well ship your furniture and other items in your cart to the selected address. \n        Only the furniture delivery fee will apply for your whole order.\n      </p>\n      <p>Well call the recipient in the next few days to arrange the furniture delivery.</p>\n      <p>Note: Our couriers cant hoist goods.</p>\n    </div>\n\n    <div id="furniture-delivery-only" class="furniture-note">\n      <h4>Furniture delivery</h4>\n      <p> Well call the recipient in the next few days to arrange the furniture delivery.</p>\n      <p>Note: Our couriers cant hoist goods.</p>\n    </div>\n    \n  </div>\n  ',"\n  ")}({hasFurnOnly:r,hasFurnitureMixed:o}),'\n      <button \n        class="submit btn-go-to-payment btn btn-large btn-success"\n        id="btn-save-delivery" \n        type="submit">\n          Go to payment\n      </button>\n    </section>\n   </form>\n\n    <section class="bash--delivery-view" data-section="address-search">\n      <div class="bash--heading">\n        <h3>Add a new delivery address</h3>\n        <a href=\'#\' data-view=\'select-address\' id=\'back-button-select-address\'>&lt; Back</a>\n      </div>\n      <div class="address-search-field-container" id="address-search-field-container">\n          ').concat(function(){setTimeout((function(){qe()}),500);var e=st({name:"address-search",placeholder:"Start typing an address...",autoComplete:"off"});return"\n  \n  ".concat(e,'\n    <div id="no-address-search-results-notification" class="notification info" >\n      <span class="icon"></span>\n      <div class="notification-content">\n      We could not find your address. \n        <a class="no-results-drop-down" href="" data-view="address-form" id="no-address-search-results">\n          Please click here to enter it manually.\n        </a>\n    </div>\n  ')}(),' \n      </div>\n      <p style="font-size: 12px; margin: 16px 0" id="type-your-address-above">\n        Type your address above or \n        <a \n          href="" id="link-manual-address-entry"\n          data-view="address-form"\n          onClick="document.getElementById(\'bash--input-street\').focus()"\n          style="text-decoration: underline" \n        >enter it manually</a>.\n      </p>\n    </section>\n    \n    <section class="bash--delivery-view" data-section="address-form">\n       <div class="bash--heading">\n        <h3>Delivery address</h3>\n        <a href="#" class="back-button--search" data-view="address-search">&lt; Back</a>\n        <a href="#" class="back-button--select" data-view="select-address">&lt; Back</a>\n      </div>\n      ').concat((t=[{name:"addressId",type:"hidden",value:"",required:!1},{name:"addressName",type:"hidden",value:"",required:!1,maxLength:50},{name:"lat",required:!1,type:"hidden",value:""},{name:"lng",required:!1,type:"hidden",value:""},{name:"street",label:"Street address",required:!0,value:""},{name:"addressType",label:"Address type",required:!0,type:"radio",options:[{value:"residential",label:"Residential",checked:!0},{value:"business",label:"Business"}]},{name:"number",required:!1,value:"",type:"hidden"},{name:"businessName",label:"Business name",required:!1,value:"",maxLength:100},{name:"companyBuilding",label:"Building/Complex and number",required:!1,value:"",maxLength:100},{name:"neighborhood",label:"Suburb",value:"",maxLength:750},{name:"city",label:"City",required:!0,value:"",maxLength:750},{name:"postalCode",label:"Postal code",value:"",type:"tel",minlength:4,maxLength:4},{type:"note",required:!1,name:"suburb-postal-reminder",value:"Make sure to specify the correct Suburb and Postal code so we can easily find your address."},{name:"state",label:"Province",type:"dropdown",options:[{value:"",label:"Select"},{value:"EC",label:"Eastern Cape"},{value:"FS",label:"Free State"},{value:"GP",label:"Gauteng"},{value:"KZN",label:"KwaZulu-Natal"},{value:"LP",label:"Limpopo"},{value:"MP",label:"Mpumalanga"},{value:"NC",label:"Northern Cape"},{value:"NW",label:"North West"},{value:"WC",label:"Western Cape"}]},{type:"note",required:!1,name:"country-display",label:"Country",value:"South Africa"},{type:"hidden",required:!0,name:"country",value:"ZAF"},{name:"receiverName",label:"Recipients name",required:!0,value:Re({type:"delivery"})},{name:"complement",required:!1,type:"hidden",helperText:"We send shipping updates to this number.",value:""},{name:"receiverPhone",label:"Recipients mobile number",required:!0,type:"tel",helperText:"We send shipping updates to this number.",minlength:9,error:"Please enter a valid phone number",containerClasses:"custom-field-complement"}].map((function(e){return st(e)})).join(""),'\n  <form id="bash--address-form" method="post">\n    '.concat(t,'\n\n    <button \n      class="submit btn-go-to-payment btn btn-large btn-success"\n      id="btn-save-address" \n      type="submit">\n      Save address\n    </button>\n  </form>\n  \n  ')),"\n    </section>\n    \n  </div>")},ut=function(e){var t,n,r,o,i=e.hasTV,a=e.hasSim,s='\n    <div id="tv-license-form">\n      <hr>\n      <div class="bash--heading sub-heading heading-with-description">\n        <h3>TV license information needed</h3>\n        <p class="tfg-custom-subtitle">Please provide your ID number to validate your TV Licence.</p>\n      </div>\n      '.concat("\n    ".concat(st({name:"tv_tvID",label:"SA ID number",required:!0,value:""}),"\n  "),"\n    </div>\n  "),c='\n    <div id="rica-form">\n      <hr>\n      <div class="bash--heading sub-heading heading-with-description">\n        <h3>Rica information required</h3>\n        <p class="tfg-custom-subtitle">\n          To RICA your SIM card, provide your SA ID (or foreign passport) number and your address as\n          it appears on a valid proof of residence.\n        </p> \n      </div>\n        '.concat((t=window.vtexjs.checkout.orderForm.shippingData.selectedAddress,n=[{name:"rica_fullName",label:"Full name and surname",required:!0,value:Re({type:"delivery"})||""},{name:"rica_streetAddress",label:"Street address",required:!0,value:(null==t?void 0:t.street)||""},{name:"rica_suburb",label:"Suburb",value:(null==t?void 0:t.neighborhood)||""},{name:"rica_city",label:"City",required:!0,value:(null==t?void 0:t.city)||""},{name:"rica_postalCode",label:"Postal code",value:(null==t?void 0:t.postalCode)||"",type:"tel",minlength:4,maxLength:4},{name:"rica_province",label:"Province",type:"dropdown",options:[{value:"",label:"Select",disabled:!0},{value:"EC",label:"Eastern Cape"},{value:"FS",label:"Free State"},{value:"GP",label:"Gauteng"},{value:"KZN",label:"KwaZulu-Natal"},{value:"LP",label:"Limpopo"},{value:"MP",label:"Mpumalanga"},{value:"NC",label:"Northern Cape"},{value:"NW",label:"North West"},{value:"WC",label:"Western Cape"}]},{type:"note",required:!1,name:"rica-country-display",label:"Country",value:"South Africa"},{type:"hidden",required:!0,name:"country",value:"ZAF"}],r=[{name:"rica_idOrPassport",label:"ID or Passport number",required:!0,value:""},{name:"rica_sameAddress",label:"Residential address the same as delivery address",type:"checkbox",checked:!0,required:!1}].map((function(e){return st(e)})).join(""),o=n.map((function(e){return st(e)})).join(""),"\n    ".concat(r,'\n    <div class="rica-conditional-fields hide">\n    ').concat(o,"\n    </div>\n  ")),"\n    </div>\n    ");return'\n  <section class="bash--extra-fields bash--delivery-view" data-section="select-address">\n    '.concat(i?s:"","\n    ").concat(a?c:"","\n  </section>")};var lt=function(e){var t=e.businessName,n=e.receiverPhone;we("deliver",{jsonString:JSON.stringify({businessName:t||"",receiverPhone:n||""})})};const dt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{validateExtraFields:!0};console.info("### setAddress ###",{address:e});var r=n.validateExtraFields,o=window.vtexjs.checkout.orderForm.items,c=W(o),u=c.hasTVs,l=c.hasSimCards;u&&Ge(e,Ee,"tv_"),l&&Ve();var d,h=Ye(e,r),p=h.isValid,f=h.invalidFields;if(!p)return console.error({invalidFields:f}),Be(e),$("#bash--address-form").addClass("show-form-errors"),r&&(null===(d=$("#bash--delivery-form"))||void 0===d||d.addClass("show-form-errors")),$("#bash--input-".concat(f[0])).focus(),ke.includes(f[0])&&window.postMessage({action:"setDeliveryView",view:"address-edit"}),{success:!1,error:"Invalid address details."};e.addressType===a&&(e.addressType=s),Oe.includes(e.addressType)||(e.addressType=i),e.number&&(e.street="".concat(e.number," ").concat(e.street),e.number=""),e.country="ZAF";var v=null===(t=window)||void 0===t||null===(t=t.vtexjs)||void 0===t||null===(t=t.checkout)||void 0===t?void 0:t.orderForm,m=v.shippingData;return m.address=e,m.selectedAddresses=[e],e.complement&&(e.receiverPhone=e.complement,m.address.complement="",e.complement=""),e.companyBuilding&&!m.address.street.includes(", ".concat(e.companyBuilding))&&(m.address.street="".concat(e.street,", ").concat(e.companyBuilding)),m.selectedAddresses[0]=m.address,Ie(),window.vtexjs.checkout.sendAttachment("shippingData",m).then((function(t){var n=t.messages.filter((function(e){return"error"===e.status}));if(n.length>0)return Ze(n),window.postMessage({action:"setDeliveryView",view:"address-form"}),{success:!1,errors:n};e.addressName&&me(e),console.info("### Update customData ###",{address:e});try{lt({businessName:e.businessName,receiverPhone:e.receiverPhone})}catch(e){He({eventCategory:"Checkout_SystemError",action:"OrderFormFailed",label:"Could not update businessName and/or receiverPhone ",description:"Could not update businessName and/or receiverPhone."})}return{success:!0}})).done((function(){return Z()}))};function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function pt(){pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var g=f.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==ht(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(ht(e)+" is not iterable")}return p.prototype=f,r(g,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ht(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ht(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}const gt=function(){var e,t=(e=pt().mark((function e(t){var n,r,o,i,a,s,c,u,l,d,h,p,f;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$("select").change(),n=document.forms["bash--address-form"],r=$("#bash--input-addressName").val(),e.next=6,ge(r);case 6:for(o=e.sent,i=["addressId","addressName","addressType","receiverName","receiverPhone","postalCode","city","state","country","businessName","street","neighborhood","complement","companyBuilding","lat","lng"],a=vt(vt({isDisposable:!1,reference:null,geoCoordinates:[],country:"ZAF"},o),{},{number:"",complement:""}),s=0;s<i.length;s++)a[i[s]]=(null===(c=n[i[s]])||void 0===c?void 0:c.value)||null;if(a.addressName=a.addressName||a.addressId,a.addressId=a.addressId||a.addressName,u=[parseFloat(a.lng)||"",parseFloat(a.lat)||""],a.geoCoordinate=u,a.geoCoordinates=u,l=a,d=Ye(a,!1),h=d.isValid,p=d.invalidFields,h){e.next=24;break}return console.error({invalidFields:p}),$("#bash--address-form").addClass("show-form-errors"),$("#bash--input-".concat(p[0])).focus(),ke.includes(p[0])&&window.postMessage({action:"setDeliveryView",view:"address-form"}),window.postMessage({type:"ADDRESS_VALIDATION_ERROR",message:"Address validation error. See invalidFields.",invalidFields:p},"*"),e.abrupt("return");case 24:return e.next=26,dt(l,{validateExtraFields:!1});case 26:if((f=e.sent).success){e.next=31;break}return console.error("Set address error",{setAddressResponse:f}),e.abrupt("return");case 31:return e.next=33,ye(a);case 33:window.postMessage({action:"setDeliveryView",view:"select-address"}),setTimeout((function(){$(".bash--extra-fields").length>0?document.querySelector(".bash--extra-fields").scrollIntoView({behavior:"smooth"}):document.getElementById("bash-delivery-options").scrollIntoView({behavior:"smooth"})}),500),Je();case 36:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yt(i,r,o,a,s,"next",e)}function s(e){yt(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(){wt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var g=f.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==bt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(bt(e)+" is not iterable")}return p.prototype=f,r(g,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===bt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}const Et=function(){var e,t=(e=wt().mark((function e(t){var n,o,i,a,s,c,d,h,p,f,v,m,y,g,b,w,_;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=window.vtexjs.checkout.orderForm.items,o=window.vtexjs.checkout.orderForm.shippingData.address,i=W(n),a=i.hasTVs,s=i.hasSimCards,$("select").change(),c={},d="[name='selected-address']:checked",!($(d).length<1)){e.next=10;break}return $("html, body").animate({scrollTop:$("#bash--delivery-form").offset().top},400),e.abrupt("return");case 10:return Ie(),e.next=13,ge($(d).val());case 13:return h=e.sent,c=xt(xt({},o),h),e.next=17,dt(c,{validateExtraFields:!1});case 17:if(e.sent.success){e.next=23;break}return console.error("Delivery Form - Address Validation error"),Z(),e.abrupt("return");case 23:if(p={},f={},!s){e.next=32;break}for(v=Se,m=0;m<v.length;m++)"sameAddress"===v[m]&&(y=$("#bash--input-".concat(v[m])).is(":checked"),p[v[m]]=y),p[v[m]]=$("#bash--input-rica_".concat(v[m])).val()||"";return e.next=30,we(u,p,!0);case 30:g=e.sent,console.info({ricaDataSent:g});case 32:if(!a){e.next=39;break}for(b=Ee,w=0;w<b.length;w++)o[b[w]]||(c[b[w]]=$("#bash--input-tv_".concat(b[w])).val()),f[b[w]]=$("#bash--input-tv_".concat(b[w])).val()||"";return e.next=37,we(l,f);case 37:_=e.sent,console.info({tvDataSent:_});case 39:return e.next=41,ye(c);case 41:$(".bash--delivery-container").css("display","none"),window.location.hash=r,Z();case 44:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){St(i,r,o,a,s,"next",e)}function s(e){St(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();var Ot=function(){var e={view:"list",hasFurn:!1,hasTVs:!1,hasSim:!1,hasFurnMixed:!1,hasFurnOnly:!1},n=function(){if(window.location.hash===t&&$(".shipping-summary-info").length&&"Waiting for more information"===$(".shipping-summary-info").text()&&(window.location.hash="#/profile",He({action:"stepRedirect",label:"redirectShippingToProfile",description:'User redirect to profile - "Waiting for more information" error.'})),!$("#bash--delivery-container").length){if(window.vtexjs.checkout.orderForm){var n,r=null===(n=window.vtexjs.checkout.orderForm)||void 0===n?void 0:n.items,o=W(r),i=o.hasFurniture,a=o.hasTVs,s=o.hasSimCards,c=o.hasFurnitureMixed,u=o.hasFurnitureOnly;e.hasFurn=i,e.hasTVs=a,e.hasSim=s,e.hasFurnOnly=u,e.hasFurnMixed=c}$(".shipping-data .box-step").append(ct({hasFurnOnly:e.hasFurnOnly,hasFurnMixed:e.hasFurnMixed})),e.hasFurn?$("#shipping-data:not(.has-furniture)").addClass("has-furniture"):$("#shipping-data.has-furniture").removeClass("has-furniture"),(e.hasFurn||e.hasSim||e.hasTVs)&&($("#bash-delivery-options").before(ut({hasSim:e.hasSim,hasTV:e.hasTVs})),e.hasSim&&Ve(),e.hasTVs&&Ue()),$("select, input").on("invalid",(function(){var e=this;$(e)[0].setCustomValidity(" "),$(e).parents("form").addClass("show-form-errors"),$(e).off("change keyUp"),$(e).on("change keyUp",(function(){$(e)[0].setCustomValidity("")}))}))}};return $(window).unload((function(){be()})),$(document).ready((function(){be(),window.location.hash===t?(n(),$(".bash--delivery-container.hide").removeClass("hide"),$(".bash--delivery-container").css("display","flex")):$(".bash--delivery-container:not(.hide)").length&&($(".bash--delivery-container:not(.hide)").addClass("hide"),$(".bash--delivery-container").css("display","none"))})),$(window).on("hashchange",(function(){console.info("hashchange TO SHIPPING"),window.location.hash===t?(setTimeout((function(){console.info("SCROLL TO SHIPPING"),document.getElementById("shipping-data").scrollIntoView({behavior:"smooth"})}),500),n(),We(),$(".bash--delivery-container").css("display","flex"),$(".bash--delivery-container.hide").removeClass("hide")):$(".bash--delivery-container:not(.hide)").length&&($(".bash--delivery-container:not(.hide)").addClass("hide"),$(".bash--delivery-container").css("display","none"))})),$(window).on("orderFormUpdated.vtex",(function(){var e,i,a=null===(e=window.vtexjs.checkout.orderForm)||void 0===e?void 0:e.items,s=null===(i=window.vtexjs.checkout.orderForm.shippingData)||void 0===i||null===(i=i.address)||void 0===i?void 0:i.addressType,c=W(a),d=c.hasTVs,h=c.hasSimCards,p=c.hasFurnitureMixed,f=window.vtexjs.checkout.orderForm.messages;if(window.location.hash===t){var v=f.filter((function(e){return"error"===e.status}));v&&Ze(v)}if(s===o){if(d||h||p)return window.location.hash!==t&&(window.location.hash=t),void setTimeout((function(){var e;return null===(e=document.getElementById("shipping-option-delivery"))||void 0===e?void 0:e.click()}),2e3);$("#shipping-data:not(collection-active)").addClass("collection-active"),$(".delivery-active").removeClass("delivery-active")}else n(),$("#shipping-data:not(delivery-active)").addClass("delivery-active"),$(".collection-active").removeClass("collection-active");We(),function(){if(window.vtexjs.checkout.orderForm.totalizers){var e=(window.vtexjs.checkout.orderForm.totalizers.find((function(e){return"Shipping"===e.id}))||{value:5e3}).value,t="Free";e>0&&(t="R".concat((e/100).toFixed(2).replace(".00",""))),$("#bash--delivery-fee").length>0&&(document.getElementById("bash--delivery-fee").innerHTML=t)}}(),window.location.hash!==r||function(){var e,t=null===(e=window.vtexjs.checkout.orderForm)||void 0===e?void 0:e.items,n=W(t),r=n.hasTVs,o=n.hasSimCards,i=!0;if(r&&(_e(l).tvID||(i=!1)),o){var a=_e(u);a.idOrPassport&&a.streetAddress&&a.postalCode||(i=!1)}return i}()||(K(),window.location.hash=t,He({action:"stepRedirect",label:"redirectPaymentToShipping",description:"User redirect to shipping because Extra Fields are invalid."}))})),$(document).on("click","a[data-view]",(function(e){e.preventDefault();var t=$(this).data("view"),n=decodeURIComponent($(this).data("content"));window.postMessage({action:"setDeliveryView",view:t,content:n})})),$(document).on("click","#no-address-search-results",(function(){document.getElementById("bash--address-form").reset(),document.getElementById("bash--input-street").focus()})),$(document).on("change",'input[type="radio"][name="selected-address"]',(function(){var e=this,t=function(e){try{return JSON.parse(decodeURIComponent(e))}catch(e){return}}($(this).parents(".bash--address-listing").data("address"));document.forms["bash--delivery-form"]&&(document.forms["bash--delivery-form"].reset(),$("#bash--input-lat").val(""),$("#bash--input-lng").val(""),document.forms["bash--delivery-form"].classList.remove("show-form-errors")),t&&ge(t.addressName).then((function(n){dt(n||t,{validateExtraFields:!1}),$('input[type="radio"][name="selected-address"]:checked').attr("checked",!1),$(e).attr("checked",!0)})).catch((function(e){console.error("Could not get address - address selection",null==e?void 0:e.message)}))})),$(document).on("change","#bash--input-rica_sameAddress",(function(){var e;this.checked?$(".rica-conditional-fields").slideUp((function(){return Ve()})):(e=$("#bash--input-rica_idOrPassport").val(),Ge({idOrPassport:null!=e?e:"",fullName:"",streetAddress:"",suburb:"",city:"",postalCode:"",province:""},Se,"rica_",!0),$(".rica-conditional-fields").slideDown((function(){return $("#bash--input-rica_fullName").focus()})))})),$(document).on("change",'input[name="addressType"]',(function(){$(this).is(":checked")&&("business"===$(this).val()?J({focus:!0}):H())})),$(document).on("click","#shipping-option-pickup-in-point, #shipping-option-delivery",(function(){"shipping-option-pickup-in-point"===$(this).attr("id")?$("#bash--delivery-container").hide():$("#bash--delivery-container").show()})),$(document).on("submit","#bash--address-form",gt),$(document).on("submit","#bash--delivery-form",Et),$(document).on("click",".remove-cart-item",(function(e){var t;e.preventDefault(),(t=$(this).data("index"),window.vtexjs.checkout.updateItems([{index:"".concat(t),quantity:0}]).done((function(){Z()}))).done((function(){Z()}))})),$(document).on("keyup click",".invalid",(function(){$(this).removeClass("invalid")})),window.addEventListener("message",(function(e){var t,n=e.data;if(n&&n.action)switch(n.action){case"setDeliveryView":if(null===(t=document.querySelector(".bash--delivery-container"))||void 0===t||t.setAttribute("data-view",n.view),("address-form"===n.view||"address-edit"===n.view)&&(function(e){var t=document.querySelector(e);if(t){t.setAttribute("type","tel"),t.setAttribute("maxlength",12),t.value=M(t.value);var n=$(e);n.keyup((function(e){var t,r=e.currentTarget.value.replace(/[^0-9+*#]+/g,"").trim(),o=8===e.keyCode;t=M(r,!o),n.parent(".text").removeClass("error"),n.parent(".text").find("span.error").hide(),n.val(t)}))}}("#bash--input-receiverPhone"),n.content))try{var r=JSON.parse(decodeURIComponent($("#".concat(n.content)).data("address")));Be(r)}catch(e){console.warn("Could not parse address Json",n.content)}break;case"FB_LOG":break;default:console.error("Unknown action",n.action)}})),{state:e,init:function(){}}}();const jt=Ot;var Ct=function(){var e={showFurnitureForm:!1,showTVIDForm:!1,showRICAForm:!1,showTVorRICAMsg:!1,showMixedProductsMsg:!1,runningObserver:!1},t=function(){setTimeout((function(){!function(){if(window.vtexjs.checkout.orderForm){var t=window.vtexjs.checkout.orderForm.items,n=W(t),r=n.hasTVs,o=n.hasSimCards,i=n.hasFurnitureMixed;e.showTVIDForm=r,e.showRICAForm=o,e.showTVorRICAMsg=e.showTVIDForm||e.showRICAForm,e.showMixedProductsMsg=i}}(),e.showFurnitureForm?$("div.subheader").css("display","none"):$("div.subheader").css("display","block")}),500)};return $(document).ready((function(){t()})),$(window).on("hashchange orderFormUpdated.vtex",(function(){t()})),$(document).on("click","#shipping-data .btn-link.vtex-omnishipping-1-x-btnDelivery",(function(){t()})),{state:e,setView:function(e){var t;null===(t=document)||void 0===t||null===(t=t.body)||void 0===t||t.setAttribute("data-delivery-view",e)},showCustomSections:function(){var t,n=$("#tfg-custom-tvrica-msg").length>0,r=$("#tfg-custom-mixed-msg").length>0,o=!1;(e.showTVorRICAMsg||e.showMixedProductsMsg)&&($(".vtex-omnishipping-1-x-deliveryChannelsWrapper.custom-disabled").length<1&&($("#shipping-option-delivery").trigger("click"),$(".vtex-omnishipping-1-x-deliveryChannelsWrapper").addClass("custom-disabled")),e.showTVorRICAMsg&&!n&&($(".vtex-omnishipping-1-x-addressFormPart1").prepend('\n  <div id="tfg-custom-tvrica-msg" class="tfg-custom-msg">\n    <p class="tfg-custom-icon"></p>\n    <p class="tfg-custom-text">\n      You can\'t collect this order in store because your cart contains items \n      which require either RICA or TV License validation.\n    </p>\n  </div>\n'),o=!0),e.showMixedProductsMsg&&!r&&($(".vtex-omnishipping-1-x-addressFormPart1").prepend('\n  <div id="tfg-custom-mixed-msg" class="tfg-custom-msg">\n    <p class="tfg-custom-icon"></p>\n    <p class="tfg-custom-text">\n      We\'ll ship your furniture and other items in your cart to the selected address. \n      Only the furniture delivery fee will apply for your whole order.\n      </p>\n  </div>\n'),o=!0)),o&&(t=".tfg-custom-step",$(t).addClass("custom-step-border"),$(t).last().addClass("last-custom-step-border"))},init:function(){}}}();const $t=Ct;function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Pt(){Pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var v={};c(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var g=f.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Lt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(Lt(e)+" is not iterable")}return p.prototype=f,r(g,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Nt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Tt=document.createElement("script");Tt.setAttribute("src","https://unpkg.com/penpal@^6/dist/penpal.min.js"),document.head.appendChild(Tt);var Ft=function(){var e,t=(e=Pt().mark((function e(){var t,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=window)||void 0===t||null===(t=t.vtexjs)||void 0===t||null===(t=t.checkout)||void 0===t?void 0:t.orderForm,e.prev=1,n){e.next=6;break}return e.next=5,window.vtexjs.checkout.getOrderForm();case 5:n=e.sent;case 6:n&&($t.init(),at.init(),jt.init()),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("VTEX_ORDERFORM_ERROR: Could not load at custom-shipping-steps Entry Point",e.t0),He({eventCategory:"Checkout_SystemError",action:"OrderFormFailed",label:"Could not getOrderForm() from vtex",description:"Could not load orderForm on custom-shipping-steps Entry Point"}),$t.init(),at.init(),jt.init();case 16:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nt(i,r,o,a,s,"next",e)}function s(e){Nt(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",Ft)})()})();